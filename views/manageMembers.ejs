<!DOCTYPE html>



<html>

    <head>
        <meta charset="utf-8">
        <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <link rel="icon" href="../public/img/finalLogo2.png">
        <title>ClubArchive</title>
        <style>
            .btn-outline-secondary:hover {
                background-color: lightgray
            }
            .SmallSignUp {
                color: blue;
                font-size: 100%;
                margin-left : 70%;
            }
            .SmallSignUp:visited {
                color:blue;
            }
            
            .vertical-menu {
                width: 200px; /* Set a width if you like */
            }

            .vertical-menu a {
                background-color: #eee; /* Grey background color */
                color: black; /* Black text color */
                display: block; /* Make the links appear below each other */
                padding: 12px; /* Add some padding */
                text-decoration: none; /* Remove underline from links */
            }

            .vertical-menu a:hover {
                background-color: #ccc; /* Dark grey background on mouse-over */
            }

            .vertical-menu a.active {
                background-color:#38a8f3; /* Add a green color to the "active/current" link */
                color: white;
            }
            
                
        </style>

    </head>


    <body>

        <div class ="container">
            <div class = "row">
                    <div class ="col-sm-2">
                        <a href = "/"><img src = "../public/img/blueLogo.png" style = "width: 100px; height: 100px; "></a>
                    </div>
                    
                    <div class = "col">
                        <form class="example" action="/search" style="margin:auto" method="GET">
                            <input style ="margin-top:24px" placeholder="Engineering Clubs, Frats, Bagel Club" type="text" class="form-control form-control-lg" name = "search2" >
                        </form>
                            
                    </div>
                    <div class = "col" >
                        <% if (!loggedIn) {%>
                            <button type="button" class="btn btn-outline-dark" style = "font-size:18; float: right; margin-top:24px ; margin-right: 3% ; color:white; background-color: #38a8f3" onclick= "window.location.href = '/signup';">Sign Up</button>
                            <button type="button" class="btn btn-outline-dark signUp"  style = "font-size:18; float : right; margin-top: 24px; margin-right: 3%;" onclick= "window.location.href = '/login';">Log in</button>
                        <% } %> 
                        <% if(loggedIn) { %>
                            <div class="dropdown">
                        
                                <img src = "../image/<%=user.image %>" style = "width: 50px; height: 50px; float:right; margin-right:45px; border-radius: 10%;margin-top:24px;object-fit: cover;" class="dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" href="/userprofile">View Profile</a>
                                    <a class="dropdown-item" href="/usersettings">User Settings</a>
                                    <a class="dropdown-item" href="/userlogout">Logout</a>
                                </div>
                            </div>
    
                        <% } %>
                    </div>
    
            </div>
        </div>
        <hr>
            <div class = "container">
                <div class="row">
                    <div class = "col-sm-2">
                        <div class="vertical-menu">
                            <a href="/clubSettings/<%=club._id%>" >Club Settings</a>
                            <a href="/clubprofilesettings/<%=club._id%>">Club Profile</a>
                            <a href="/clubMarkettingSettings/<%=club._id%>">Marketting Settings</a>
                            <a href="/clubAdminApplications/<%=club._id%>">Administrators Applications</a>
                            <a href="/clubMemberApplicationDesign/<%= club._id %>">Design Online Application</a>
                            <a href="/<%=club._id%>/club-applications" >Manage Member Application</a>
                            <a href="/<%=club._id%>/manage-members"  class="active">Manage Current Members</a>
                        </div>
                    </div>

                    <div class="col-sm-8" style = "margin-left:10%">
                        <h2 style = "text-align: center;margin-bottom:2%">All Members</h2>
                        <ul>
                            <li class="list-group-item"><h3>Administrators</h3></li>
                            <% if(club.adminstrators != null){ %> 
                                <% club.adminstrators.forEach(admin => { %>
                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                        <span><%=admin.name%></span>
                                        <form class="ml-3" method="POST" action ="/<%=club._id%>/edit-user-priviledges/<%=admin.id%>">
                                            <button type="submit" name="remove_admin" value="remove_admin" class="btn btn-sm btn-outline-primary">Remove Admin</button>
                                            <button type="submit" name="delete_member" value="delete_member" class="btn btn-sm btn-outline-danger">Delete Member</button>
                                        </form>
                                    </li>
                                <% });  %> 
                            <% } %> 
                        </ul>
                        <br><br>
                        <ul>
                            <li class="list-group-item"><h3>Non-Admins</h3></li>
                            <% if(non_admins != null){ %> 
                                <% non_admins.forEach(member => { %>
                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                        <span><%=member.name%></span>
                                        <form class="ml-3" method="POST" action="/<%=club._id%>/edit-user-priviledges/<%=member.id%>">
                                            <button type="submit" name="make_admin" value="make_admin" class="btn btn-sm btn-outline-success">Make Admin</button>
                                            <button type="submit" name="delete_member" value="delete_member" class="btn btn-sm btn-outline-danger">Delete Member</button>
                                        </form>                                
                                    </li>
                                <% });  %> 
                            <% } %> 
                        </ul>
                    
                    </div>
                    <div class="mr-5"></div>
                    <div class="mr-4"></div>
                </div>
        </div>

              

    </body>
</html>